before_commands:
    - 'git clone https://tom-chaplean@bitbucket.org/chaplean/coding-standard.git ../coding-standard/'

tools:
    external_code_coverage:
        timeout: 3600
    php_sim: true
    php_pdepend: true
    php_analyzer: true
    php_mess_detector:
        config:
            ruleset: ../coding-standard/phpmd/ruleset.xml
    sensiolabs_security_checker: true

filter:
    excluded_paths:
        - 'app/*'
        - 'bin/*'
        - 'DataFixtures/*'
        - 'Tests/*'
        - 'var/*'
        - 'vendor/*'
        - 'web/*'

build:
    project_setup:
        before:
            -
                command: 'composer config -g github-oauth.github.com 7fa26c02ea1b016a956f5d774362096b6bf42d61'

    tests:
        override:
            -
                command: 'echo "We are Chaplean"'

checks:
    php:
        custom_coding_standard:
            git_repository: 'https://tom-chaplean@bitbucket.org/chaplean/coding-standard.git'
            git_version: '11647c41615bd68325c5a0ca7a8db65450172058'
            ruleset_path: 'phpcs/ChapleanStandard/ruleset.xml'